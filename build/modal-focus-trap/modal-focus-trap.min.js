'use strict';const{freeze:A}=Object;var b=a=>typeof a==='function';const c=a=>typeof a==='string';const{isArray:d}=Array;var f={isDisabled(_){if(!_||_.nodeType!==Node.ELEMENT_NODE)return!0;if(_.classList.contains('disabled'))return!0;if(!e(_.disabled))return _.disabled;return _.hasAttribute('disabled')&&_.getAttribute('disabled')!=='false'},isElement(B){if(!B||typeof B!=='object')return!1;!e(B.jquery)&&(B=B[0]);return!e(B.nodeType)},isVisible(C){if(!this.isElement(C)||C.getClientRects().length===0)return!1;const _b=getComputedStyle(C).getPropertyValue('visibility')==='visible',_c=C.closest('details:not([open])');if(!_c)return _b;if(_c!==C){const _a=C.closest('summary');if(_a&&_a.parentNode!==_c)return!1;if(_a===null)return!1}return _b},find(D,_B=document.documentElement){return [].concat(...Element.prototype.querySelectorAll.call(_B,D))},focusableChildren(_A){return this.find(['a','audio[controls]','button','details','input','select','textarea','video[controls]','[tabindex]','[contenteditable="true"]'].map(E=>`${E}:not([tabindex^="-"])`).join(','),_A).filter(el=>!this.isDisabled(el)&&this.isVisible(el))},isJQueryElement(aA){return this.isElement(aA)&&!e(aA.jquery)},isArray(aB){return aB&&typeof aB==='object'&&d(aB)},isNodeList(aC){return (aC&&typeof aC==='object'&&NodeList.prototype.isPrototypeOf(aC)&&aC instanceof NodeList)},queryElement(aD){if(c(aD)&&!this.isElement(aD))return document.querySelector(aD);if(this.isJQueryElement(aD))return aD[0];if(this.isElement(aD))return aD;return null},queryElementAll(aE){if(c(aE)&&!this.isElement(aE))return document.querySelectorAll(aE);if(this.isJQueryElement(aE))return[...aE];if(this.isArray(aE)||this.isNodeList(aE))return aE;return null},getObject(aF){if(aF&&typeof aF==='object')return aF;if(aF&&c(aF))return JSON.parse(aF);return null}},e=a=>a==void 0;var g=new (function(){let aG=null;const aH={className:'className',initialFocusNode:'initialFocusNode',timeout:'timeout'},_C={className:null,initialFocusNode:null,timeout:500};function _d(aI){return aI||document.activeElement||document.body}function _e(aJ){if(aJ.target.shadowRoot&&b(aJ.composedPath))return aJ.composedPath()[0];return _d(aJ.target)}this.GetTriggerTargets=function(aK){aK=f.queryElementAll(aK);if(!aK||aK.length===0){alert('ERROR: ModalFocusTrap GetTriggerTargets  \n\nFunction parameter needs to be a String or DOM reference to elements trigging a Modal.');console.error('Parameter needs to be a String or DOM reference to element trigging a Modal.');return}f.isNodeList(aK)};this.Activate=function(aL,aM){const aN=f.queryElement(aL),_E=f.focusableChildren(aN),G=_E[_E.length-1];if(!aN){alert('ERROR: ModalFocusTrap Activate.\n\nFunction parameter needs to be a CSS selector String, or DOM reference to a Modal element.');console.error('Function parameter needs to be a CSS selector String, or DOM reference to a Modal element.');return}const _D='Tab';if(_E.length===0){aN.focus();return}const F=_E[0];aM=f.queryElement(aM);if(aM){const aO=_E.indexOf(aM);aO!==-1&&_E[aO].focus()}else F.focus();F.addEventListener('keydown',function(aP){(aP.key==_D&&aP.shiftKey)&&(aP.stopPropagation(),aP.preventDefault(),G.focus())});G.addEventListener('keydown',function(aQ){(aQ.key==_D&&!aQ.shiftKey)&&(aQ.stopPropagation(),aQ.preventDefault(),F.focus())})};this.ActivateOnClick=function(aR,aS,aT){let aU=null;let aV=null;let _f=400;aT&&(aT=f.getObject(aT),aU=Object.hasOwn(aT,aH.className)?aT[aH.className]:_C.className,aV=Object.hasOwn(aT,aH.initialFocusNode)?aT[aH.initialFocusNode]:_C.initialFocusNode,_f=Object.hasOwn(aT,aH.timeout)?aT[aH.timeout]:_C.timeout);aS=f.queryElement(aS);aG=_d(aS);const _g=setInterval(function(){const aW=f.queryElement(aR);aV=f.queryElement(aV);if(!aW){clearInterval(_g);alert('ERROR: ModalFocusTrap ActiveOnClick\n\nParameter targetModal needs to be a CSS selector String, or DOM reference to a Modal element.');console.error('Parameter targetModal needs to be a CSS selector String, or DOM reference to a Modal element.');return}const aX=!aU?aW:aW.classList.contains(`${aU}`);aX&&(clearInterval(_g),setTimeout(function(){g.Activate(aW,aV)},_f))},100)};this.Deactivate=function(){aG=_d(aG);aG.focus();aG=null};document.addEventListener('DOMContentLoaded',function(){window.ModalFocusTrap==void 0&&(window.ModalFocusTrap=g)})});A(f);A(g);
